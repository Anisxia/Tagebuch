<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meine VR-Anwendung mit Textfeld, Buttons und 360-Grad-Bild</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script>
        AFRAME.registerComponent('cursor-listener', {
            init: function () {
                this.el.addEventListener('mouseenter', function () {
                    this.setAttribute('color', '#ff0000'); // Highlight color
                });
                this.el.addEventListener('mouseleave', function () {
                    this.setAttribute('color', '#D2B48C'); // Original color
                });
                this.el.addEventListener('click', function () {
                    if (this.getAttribute('action') === 'nextPage') {
                        console.log('weiter" wurde geklickt.');
                        // Nächste Szene aufrufen
                        window.location.href = 'tagebuchkünstler.html'; // Hier Pfad zur nächsten Szene eintragen
                    } else if (this.getAttribute('action') === 'changeColor') {
                        console.log('Button "zuruek" wurde geklickt.');
                        // Zurück zur vorherigen Seite navigieren (innerhalb des VR-Fensters)
                        window.history.back();
                    }
                });
            }
        });
    </script>
</head>
<body>
    <a-scene>
        <!-- Hintergrundmusik -->
        <a-assets>
            <audio id="background-music" src="sound/bazar.mp3" autoplay loop></audio>
            <img id="360-image" src="images/Bazar.jpg" alt="360 Grad Bild">
            <img id="textfeld-bild" src="images/Papier.png" alt="Textfeld Bild">
            <img id="gewürze" src="images/gewürze.png" alt="gewürze">
        </a-assets>

        <!-- 360-Grad-Bild als Himmel -->
        <a-sky src="#360-image"></a-sky>

        <!-- Partikelsystem (Schnee als Test) -->
        <a-entity particle-system="preset: snow; particleCount: 500; size: 1"></a-entity>

        <!-- Textfeld -->
        <a-plane position="0 1.6 -3" width="5" height="1.7" color="#D2B48C" shadow="receive: true" material="src: #textfeld-bild">
            <a-text value=" Viele unterschiedliche Gewuerze sind auch auf 
            dem Grand Bazar zu erhalten. Es gibt hier bergeweise gelben Safran, scharfen Chili oder 
             hier riecht es überall nach Kuemmel.
             " align="center" position="0 0.1 0" color="#FFFFFF"></a-text>
        </a-plane>
        <!-- Bild neben dem Textfeld -->
        <a-image src="#gewürze" width="2.5" height="3" position="3.5 1.5 -2.9"></a-image>

        <!-- Button 1 (Reingehen) -->
        <a-plane position="-1.4 0.4 -3" width="1.2" height="0.5" color="#D2B48C" img src="images/Papier.png" alt="Papier" shadow="receive: true" class="clickable" cursor-listener action="nextPage">
            <a-text value="weiter" align="center" position="0 0 0"></a-text>
        </a-plane> 

        <!-- Button 2 (Zurück) -->
        <a-plane position="1.4 0.4 -3" width="1.2" height="0.5" color="#D2B48C" img src="images/Papier.png" alt="Papier"  shadow="receive: true" class="clickable" cursor-listener action="changeColor">
            <a-text value="zurueck" align="center" position="0 0 0"></a-text>
        </a-plane>
        
        <!-- Kamera mit Cursor -->
        <a-camera position="0 1.6 0">
            <a-cursor raycaster="objects: .clickable"></a-cursor>
        </a-camera>
    </a-scene>
</body>
</html>

</html>
